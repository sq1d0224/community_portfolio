<div class="page-background">
  <div class="new-post-page">
    <h1 class="new-post-title">コミュニティに新規投稿</h1>

    <!-- エラーメッセージの表示 -->
    <%= render 'shared/error_messages', resource: @post %>

    <!-- フォームの作成 -->
    <%= form_with(model: [@community, @post], local: true) do |form| %>
      <div class="field">
        <%= form.label :description, '説明文', class: 'form-label' %>
        <%= form.text_area :description, class: 'form-control description-textarea', placeholder: '1000文字以内', maxlength: 1000 %>
      </div>

      <div class="field">
        <%= form.label :image, '画像', class: 'form-label' %>
        <%= form.file_field :image, class: 'form-control' %>
      </div>

      <div class="mt-3">
        <%= form.submit '投稿', class: 'btn btn-primary', data: { confirm: '本当に投稿しますか？' } %>
      </div>
    <% end %>

    <!-- コミュニティに戻るリンク -->
    <div class="mt-3">
      <%= link_to 'コミュニティに戻る', community_path(@community), class: 'btn btn-secondary' %>
    </div>
  </div>
</div>
