<div class="user-info">
  <% if @user.profile_image.attached? %>
    <%= image_tag @user.profile_image.variant(resize_to_limit: [150, 150]), class: "profile-image" %>
  <% else %>
    <%= image_tag 'no_image.jpg', size: "150x150", class: "profile-image" %>
  <% end %>
  <p><strong>ユーザーネーム:</strong> <%= @user.username %></p>
</div>

<%= link_to '新規投稿', new_post_path, class: 'btn btn-primary' %>

<hr>

<h2>投稿一覧</h2>

<% if @posts.any? %>
  <div class="posts-grid">
    <% @posts.each do |post| %>
      <div class="post-item">
        <h3><%= link_to post.title, post_path(post) %></h3>
        <p><%= post.description %></p>
        <% if post.image.attached? %>
          <%= image_tag post.display_image %>
        <% end %>
        <p>投稿者: <%= post.user.username %></p>
        <p>投稿日時: <%= post.created_at.in_time_zone('Asia/Tokyo').strftime("%Y年%m月%d日 %H:%M") %></p>
      </div>
    <% end %>
  </div>
<% else %>
  <p>まだ投稿はありません。</p>
<% end %>
